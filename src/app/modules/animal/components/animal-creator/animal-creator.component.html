<div class="dog-form__box">
  <form [formGroup]="animalForm" (ngSubmit)="submit()">
    <mat-card-content>
      <mat-form-field>
        <mat-select
          formControlName="type"
          id="animal"
          placeholder="Animal"
          (selectionChange)="getAllBreeds()"
        >
          <mat-option *ngFor="let type of animals" [value]="type">
            {{ type }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <input type="text" matInput placeholder="Name" formControlName="name" />
        <mat-error
          *ngIf="animalForm.get('name').hasError('required') && animalForm.get('name').touched"
        >
          This field is required
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-select
          formControlName="breed"
          id="Breed"
          placeholder="Breed"
          (selectionChange)="changeBreed()"
        >
          <mat-option *ngFor="let breed of breeds" [value]="breed">
            {{ breed }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field *ngIf="subBreeds && subBreeds.length">
        <mat-select formControlName="subBreed" id="subBreed" placeholder="Sub Breed">
          <mat-option *ngFor="let subBreed of subBreeds" [value]="subBreed">
            {{ subBreed }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-select formControlName="owner" id="orders" placeholder="User">
          <mat-option *ngFor="let user of users; let i = index" [value]="users[i].id">
            {{ users[i].userName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
      <button mat-flat-button type="submit">Create</button>
    </mat-card-actions>
  </form>
</div>
